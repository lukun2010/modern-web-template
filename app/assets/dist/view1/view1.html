<!-- Content Header (Page header) -->
<section class="content-header">
    <h1>
        主题编辑器
        <small>Optional description</small>
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Level</a></li>
        <li class="active">Here</li>
    </ol>
</section>

<!-- Main content -->
<section class="content">
    <!-- Your Page Content Here -->

    <script type="text/ng-template" id="newColumnModal.html">
        <div class="modal-header">
            <h3 class="modal-title">添加字段</h3>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label>字段名称</label>
                <input type="text" class="form-control" placeholder="Enter ..." ng-model="colName">
            </div>
            <div class="form-group">
                <label>字段类型</label>
                <input type="text" class="form-control" placeholder="Enter ..." ng-model="colType">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

    <script type="text/ng-template" id="confirmDeleteModal.html">
        <div class="modal-header">
            <h3 class="modal-title">删除确认</h3>
        </div>
        <div class="modal-body">
            确认需要删除字段
            <strong>{{colSelected}}</strong>
            吗？
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

    <script type="text/ng-template" id="submitSchemaModal.html">
        <div class="modal-header">
            <h3 class="modal-title">提交确认</h3>
        </div>
        <div class="modal-body">
            确认需要提交主题
            <strong>{{schemaName}}</strong>
            吗？
        </div>
        <div class="modal-footer">
            <button class="btn btn-primary" ng-click="ok()">OK</button>
            <button class="btn btn-warning" ng-click="cancel()">Cancel</button>
        </div>
    </script>

    <div ng-show="selected">Selection from a modal: {{ selected }}</div>

    <div class="box">
        <div class="box-header">
            <!-- tools box -->
            <div class="pull-right box-tools">

            </div>

            <!-- /. tools -->
            <i class="fa fa-users"></i>
            <h3 class="box-title">Schema</h3>
        </div>
        <!-- /.box-header -->
        <div class="box-body">

            <div class="row">
                <div class="col-md-4">
                    <div class="input-group">
                        <div class="input-group-btn" dropdown on-toggle="getSchemaNames(open)">
                            <button type="button" class="btn btn-default dropdown-toggle" aria-expanded="false" dropdown-toggle>
                                主题
                                <span class="fa fa-caret-down"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li ng-repeat="choice in schemaItems">
                                    <a href ng-click="setSchemaSelected(choice)">{{choice}}</a>
                                </li>
                            </ul>
                        </div><!-- /btn-group -->
                        <input type="text" class="form-control" ng-model="schemaName" readonly>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="input-group">
                        <div class="input-group-btn" dropdown on-toggle="getVersionsBySchemaName(open)">
                            <button type="button" class="btn btn-default dropdown-toggle" aria-expanded="false" dropdown-toggle ng-disabled="!validSchemaNameSelected">
                                版本
                                <span class="fa fa-caret-down"></span>
                            </button>
                            <ul class="dropdown-menu">
                                <li ng-repeat="choice in versionItems">
                                    <a href ng-click="setVersionSelected(choice)">{{choice}}</a>
                                </li>
                            </ul>
                        </div><!-- /btn-group -->
                        <input type="text" class="form-control" ng-model="versionName" readonly>
                    </div>
                </div>
                <div class="col-md-1">
                    <div class="input-group">
                        <button class="btn btn-block btn-primary" ng-click="getSchema()" ng-disabled="!validSchemaNameSelected || !validVersionNameSelected">
                            查询
                        </button>
                    </div>
                </div>

            </div>

            <div class="row">
                <div class="col-md-12">
                    <hr/>
                </div>
            </div>

            <div class="row">
                <div class="col-md-4">
                    <div angular-grid="gridOptions" class="ag-fresh"></div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <hr/>
                </div>
            </div>

            <div class="row">
                <div class="col-md-1">
                    <div class="input-group">
                        <button class="btn btn-block btn-primary" ng-click="newColumnModal()">
                            添加字段
                        </button>
                    </div>
                </div>
                <div class="col-md-1">
                    <div class="input-group">
                        <button class="btn btn-block btn-primary" ng-click="confirmDeleteModal()">
                            删除字段
                        </button>
                    </div>
                </div>
                <div class="col-md-1">
                    <div class="input-group">
                        <button class="btn btn-block btn-danger" ng-click="submitSchemaModal()">
                            提交主题
                        </button>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <hr/>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <alert class="alert alert-dismissable" ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)">{{alert.msg}}</alert>
                </div>
            </div>

        </div>
        <!-- /.box-body -->
    </div>
</section><!-- /.content -->
